<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>mew cards</title>
    <link rel="icon" type="image/png" href="https://mew.net/cards/logo.png" />
    <!-- Tailwind via CDN (simple, no config) -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
  <body class="bg-[#101010] text-gray-100">
    <div id="root"></div>
    <!-- Vite entry -->
    <script type="module" src="/src/main.tsx"></script>

<!-- Cursor Sparkle Layer -->
<style>
  /* accessibility: respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .cursor-star { display: none !important; }
  }

  /* full-page overlay that doesn't affect your app layout */
  #cursor-layer {
    position: fixed;
    inset: 0;
    pointer-events: none; /* don't block clicks */
    z-index: 9999;        /* above the app */
  }

  .cursor-star {
    position: absolute;
    font-size: 1rem;
    will-change: transform, opacity;
    animation-duration: 1500ms;
    animation-fill-mode: forwards;
    filter: drop-shadow(0 0 1.5rem rgba(255,255,255,.5));
    user-select: none;
  }

  @keyframes fall-1 {
    0%   { transform: translate(0,0) rotateX(45deg) rotateY(30deg) rotateZ(0) scale(.25); opacity:0; }
    5%   { transform: translate(10px,-10px) rotateX(45deg) rotateY(30deg) rotateZ(0) scale(1); opacity:1; }
    100% { transform: translate(25px,200px) rotateX(180deg) rotateY(270deg) rotateZ(90deg) scale(1); opacity:0; }
  }
  @keyframes fall-2 {
    0%   { transform: translate(0,0) rotateX(-20deg) rotateY(10deg) scale(.25); opacity:0; }
    10%  { transform: translate(-10px,-5px) rotateX(-20deg) rotateY(10deg) scale(1); opacity:1; }
    100% { transform: translate(-10px,160px) rotateX(-90deg) rotateY(45deg) scale(.25); opacity:0; }
  }
  @keyframes fall-3 {
    0%   { transform: translate(0,0) rotateX(0) rotateY(45deg) scale(.5); opacity:0; }
    15%  { transform: translate(7px,5px) rotateX(0) rotateY(45deg) scale(1); opacity:1; }
    100% { transform: translate(20px,120px) rotateX(-180deg) rotateY(-90deg) scale(.5); opacity:0; }
  }
</style>

<div id="cursor-layer" aria-hidden="true"></div>

<script>
(() => {
  const start = Date.now();
  const origin = { x: 0, y: 0 };
  const last = { starTimestamp: start, starPosition: origin, mousePosition: origin };

  const config = {
    duration: 1500,
    minTimeBetween: 250,
    minDistBetween: 75,
    colors: ["249 146 253", "252 254 255"], // rgb triplets
    sizes: ["1.4rem", "1rem", "0.6rem"],
    animations: ["fall-1", "fall-2", "fall-3"],
    useEmoji: true, // set false if you switch to Font Awesome below
  };

  let count = 0;

  const rand = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
  const pick = arr => arr[rand(0, arr.length - 1)];
  const px = v => `${v}px`;

  const distance = (a, b) => Math.hypot(b.x - a.x, b.y - a.y);
  const elapsed = (t0, t1) => t1 - t0;

  const layer = document.getElementById('cursor-layer');

  const append = el => layer.appendChild(el);
  const removeLater = (el, ms) => setTimeout(() => el.remove(), ms);

  const createStar = pos => {
    const el = document.createElement(config.useEmoji ? 'span' : 'i');
    el.className = 'cursor-star' + (config.useEmoji ? '' : ' fa-solid fa-sparkles');

    // content (emoji fallback if not using FA)
    if (config.useEmoji) el.textContent = 'âœ¨';

    const color = pick(config.colors);
    el.style.left = px(pos.x);
    el.style.top = px(pos.y);
    el.style.fontSize = pick(config.sizes);
    el.style.color = `rgb(${color})`;
    el.style.textShadow = `0 0 1.5rem rgb(${color} / 0.5)`;
    el.style.animationName = config.animations[count++ % config.animations.length];
    el.style.animationDuration = `${config.duration}ms`;

    append(el);
    removeLater(el, config.duration);
  };

  const updateLastStar = pos => {
    last.starTimestamp = Date.now();
    last.starPosition = pos;
  };

  const updateLastMouse = pos => { last.mousePosition = pos; };
  const ensureInitialMouse = pos => {
    if (last.mousePosition.x === 0 && last.mousePosition.y === 0) {
      last.mousePosition = pos;
    }
  };

  const handleMove = e => {
    const p = { x: e.clientX, y: e.clientY };
    ensureInitialMouse(p);

    const now = Date.now();
    const farEnough = distance(last.starPosition, p) >= config.minDistBetween;
    const longEnough = elapsed(last.starTimestamp, now) > config.minTimeBetween;

    if (farEnough || longEnough) {
      createStar(p);
      updateLastStar(p);
    }
    updateLastMouse(p);
  };

  // pointer events cover mouse + touch/pen
  window.addEventListener('pointermove', handleMove, { passive: true });
  document.body.addEventListener('mouseleave', () => updateLastMouse(origin));

  // OPTIONAL: if you want to disable on specific routes, you can toggle #cursor-layer display in your router hooks.
})();
</script>

    
  </body>
</html>
